from orm_sqlite import Database, Model, IntegerField, StringField


db = Database("mydb.sqlite3")


class User(Model):
    id = IntegerField(primary_key=True)
    name = StringField()
    email = StringField()

    class Meta:
        database = db


User.create_table()


def create_user(name, email):
    user = User(name=name, email=email)
    user.save()
    print(f"User '{name}' created successfully.")


def update_user_email(user_id, new_email):
    user = User.get(User.id == user_id)
    if user:
        user.email = new_email
        user.save()
        print(f"User ID {user_id}'s email updated to '{new_email}'.")
    else:
        print(f"User with ID {user_id} not found.")


def delete_user(user_id):
    user = User.get(User.id == user_id)
  


    # Create users
    create_user("Alice", "alice@example.com")
    create_user("Bob", "bob@example.com")

    # Read users
    read_users()

    # Update user email
    update_user_email(1, "alice_new@example.com")

    # Delete a user
    delete_user(2)

    # Read users again to see changes
    read_users()
